components:

  - id: brol
    statuses:
      - id: stopped
        cmd:
          type: ILocalCommand
          work_dir: /usr/local/archive/projects/Brrr/BroL
          command: foreman stop brol
      - id: starting  # TODO: Remove starting
        work_dir: /usr/local/archive/projects/Brrr/BroL
        cmd: ""
      - id: started
        work_dir: /usr/local/archive/projects/Brrr/BroL
        cmd: ""
    dependencies: []

  - id: reader
    statuses:
      - id: stopped
        work_dir: /usr/local/archive/projects/Brrr/BrrrSRV
        cmd: foreman stop reader
      - id: started
        work_dir: /usr/local/archive/projects/Brrr/BrrrSRV
        cmd: foreman start reader
    dependencies:
      - component: brol
        status: started

  - id: pusher
    statuses:
      - id: stopped
        work_dir: /usr/local/archive/projects/Brrr/BrrrSRV
        cmd: foreman stop pusher
      - id: started
        work_dir: /usr/local/archive/projects/Brrr/BrrrSRV
        cmd: foreman start pusher
    dependencies:
      - component: reader
        status: started


statuses:
  - id: starting
  - id: started
  - id: stopped
